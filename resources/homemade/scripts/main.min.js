var SpeedForce=function(){"use strict";var t,n,e,o,i,a,s,r,l,c,d,u="ontouchstart"in window?"touchstart":"mousedown",h="ontouchstart"in window?"touchend":"mouseup";return Number.prototype.toRadians=function(){return this*(Math.PI/180)},{init:function(){this.initUI()},initUI:function(){var i=this;t=document.forms.startRun,n=t.startPos,e=t.run,o=document.getElementById("results"),i.startPositionListener(),i.runListener(),i.stopListener()},startPositionListener:function(){var t=this;n.addEventListener("click",function(n){"geolocation"in navigator?t.requestUserLocation():console.log("can't do it :(")})},requestUserLocation:function(){var t=this;navigator.geolocation.getCurrentPosition(function(n){i={lat:n.coords.latitude,lng:n.coords.longitude},t.displayStartPos(),t.enableControls()})},displayStartPos:function(){var t=document.createElement("div");t.innerHTML="Start: ("+i.lat+", "+i.lng+")",o.appendChild(t),o.style.display="block"},enableControls:function(){e.disabled=!1},runListener:function(){e.addEventListener(u,function(t){s=Date.now(),console.log("started: "+s)})},stopListener:function(){var t=this;e.addEventListener(h,function(n){r=Date.now(),l=(r-s)/1e3,navigator.geolocation.getCurrentPosition(function(n){a={lat:n.coords.latitude,lng:n.coords.longitude},t.calculateResults(),t.displayResults()})})},calculateResults:function(){var t=6371,n=(a.lat-i.lat).toRadians(),e=(a.lng-i.lng).toRadians();if(0===n&&0===e)return c=0,void(d=0);var o=i.lat.toRadians(),s=a.lat.toRadians(),r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(o)*Math.cos(s)*(Math.sin(e/2)*Math.sin(e/2)),u=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));c=Math.abs(t*u*1e3),d=c/l},displayResults:function(){var t=document.createElement("div"),n=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div");t.innerHTML="Stop: ("+a.lat+", "+a.lng+")",n.innerHTML="Time elapsed: "+l+" s",e.innerHTML="Total distance: "+c+" m",i.innerHTML="Average Speed: "+d+" m/s",o.appendChild(t),o.appendChild(n),o.appendChild(e),o.appendChild(i)}}}();!function(){"use strict";console.log("js functionality coming very soon...")}();