var SpeedForce=function(){"use strict";var t,e,n,i,s,o,a,r,l,d,c,u,h;return Number.prototype.toRadians=function(){return this*(Math.PI/180)},{init:function(){this.initUI()},initUI:function(){var a=this;t=document.forms.startRun,e=t.startPos,n=t.run,i=t.stop,s=t.reset,o=document.getElementById("results"),a.startPositionListener(),a.runListener(),a.stopListener(),a.resetListener()},startPositionListener:function(){var t=this;e.addEventListener("click",function(e){"geolocation"in navigator?t.requestUserLocation():console.log("can't do it :(")})},requestUserLocation:function(){var t=this;navigator.geolocation.getCurrentPosition(function(i){a={lat:Math.round(1e6*i.coords.latitude)/1e6,lng:Math.round(1e6*i.coords.longitude)/1e6},t.displayStartPos(),t.enableControls(),n.classList.toggle("show"),e.disabled=!0,s.disabled=!1})},displayStartPos:function(){var t=document.createElement("div");t.innerHTML="Start: ("+a.lat+", "+a.lng+")",o.appendChild(t),o.style.display="block"},enableControls:function(){n.disabled=!1,i.disabled=!1},runListener:function(){n.addEventListener("click",function(t){l=Date.now(),console.log("started: "+l),n.classList.toggle("show"),i.classList.toggle("show"),s.disabled=!0})},stopListener:function(){var t=this;i.addEventListener("click",function(e){d=Date.now(),c=(d-l)/1e3,navigator.geolocation.getCurrentPosition(function(e){r={lat:Math.round(1e6*e.coords.latitude)/1e6,lng:Math.round(1e6*e.coords.longitude)/1e6},t.calculateResults(),t.displayResults(),i.classList.toggle("show"),s.disabled=!1})})},calculateResults:function(){var t=6371,e=(r.lat-a.lat).toRadians(),n=(r.lng-a.lng).toRadians();if(0===e&&0===n)return u=0,void(h=0);var i=a.lat.toRadians(),s=r.lat.toRadians(),o=Math.sin(e/2)*Math.sin(e/2)+Math.cos(i)*Math.cos(s)*(Math.sin(n/2)*Math.sin(n/2)),l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));u=Math.abs(t*l*1e3),h=u/c},displayResults:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div");t.innerHTML="Stop: ("+r.lat+", "+r.lng+")",e.innerHTML="Time elapsed: "+c+" s",n.innerHTML="Total distance: "+u+" m -- ("+u/1e3+" m)",i.innerHTML="Average Speed: "+h+" m/s -- ("+3.6*h+" km/h)",o.appendChild(t),o.appendChild(e),o.appendChild(n),o.appendChild(i)},resetListener:function(){s.addEventListener("click",function(t){o.style.display="none",o.innerHTML="",n.classList.remove("show"),i.classList.remove("show"),s.disabled=!0,e.disabled=!1})}}}();!function(){"use strict";console.log("js functionality coming very soon...")}();