var SpeedForce=function(){"use strict";var t,e,n,i,s,o,a,l,r,d,c,u,g;return Number.prototype.toRadians=function(){return this*(Math.PI/180)},{init:function(){this.initUI()},initUI:function(){var a=this;t=document.forms.startRun,e=t.startPos,n=t.run,i=t.stop,s=t.reset,o=document.getElementById("results"),a.startPositionListener(),a.runListener(),a.stopListener(),a.resetListener()},startPositionListener:function(){var t=this;e.addEventListener("click",function(e){"geolocation"in navigator?t.requestUserLocation():console.log("can't do it :(")})},requestUserLocation:function(){var t=this;navigator.geolocation.getCurrentPosition(function(i){a={lat:i.coords.latitude,lng:i.coords.longitude},t.displayStartPos(),t.enableControls(),n.classList.toggle("show"),e.disabled=!0,s.disabled=!1})},displayStartPos:function(){var t=document.createElement("div");t.innerHTML="Start: ("+a.lat+", "+a.lng+")",o.appendChild(t),o.style.display="block"},enableControls:function(){n.disabled=!1,i.disabled=!1},runListener:function(){n.addEventListener("click",function(t){r=Date.now(),console.log("started: "+r),n.classList.toggle("show"),i.classList.toggle("show"),s.disabled=!0})},stopListener:function(){var t=this;i.addEventListener("click",function(e){d=Date.now(),c=(d-r)/1e3,navigator.geolocation.getCurrentPosition(function(e){l={lat:e.coords.latitude,lng:e.coords.longitude},t.calculateResults(),t.displayResults(),i.classList.toggle("show"),s.disabled=!1})})},calculateResults:function(){var t=6371,e=(l.lat-a.lat).toRadians(),n=(l.lng-a.lng).toRadians();if(0===e&&0===n)return u=0,void(g=0);var i=a.lat.toRadians(),s=l.lat.toRadians(),o=Math.sin(e/2)*Math.sin(e/2)+Math.cos(i)*Math.cos(s)*(Math.sin(n/2)*Math.sin(n/2)),r=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));u=Math.abs(t*r*1e3),g=u/c},displayResults:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div");t.innerHTML="Stop: ("+l.lat+", "+l.lng+")",e.innerHTML="Time elapsed: "+c+" s",n.innerHTML="Total distance: "+u+" m",i.innerHTML="Average Speed: "+g+" m/s",o.appendChild(t),o.appendChild(e),o.appendChild(n),o.appendChild(i)},resetListener:function(){s.addEventListener("click",function(t){o.style.display="none",o.innerHTML="",n.classList.remove("show"),i.classList.remove("show"),s.disabled=!0,e.disabled=!1})}}}();!function(){"use strict";console.log("js functionality coming very soon...")}();